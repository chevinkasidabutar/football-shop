{% load static %}
<article class="card-float bg-white/90 border border-purple-100 rounded-xl shadow-sm hover:shadow-md transition p-3">
  <a href="{% url 'main:show_product' product.id %}" class="block focus:outline-none focus:ring-2 focus:ring-purple-300 rounded-lg">
    <div class="relative w-full aspect-[4/3] overflow-hidden rounded-lg mb-3">
      {% if product.thumbnail %}
        <img src="{{ product.thumbnail }}" class="w-full h-full object-cover" alt="{{ product.name|default:'Product' }}">
      {% else %}
        <img src="{% static 'image/no-name.JPG' %}" class="w-full h-full object-contain p-6" alt="Product">
      {% endif %}
    </div>
    <h3 class="font-bold text-gray-900 mb-1 line-clamp-2">{{ product.name }}</h3>
    <p class="text-gray-600 text-sm line-clamp-3">{{ product.description|striptags|truncatewords:20 }}</p>
  </a>

  {% if user.is_authenticated and product.user == user %}
  <div class="mt-3 flex justify-end gap-2">
    <button data-id="{{ product.id }}" class="btn-edit px-3 py-1.5 text-xs border rounded-lg hover:bg-gray-50">Edit</button>
    <button data-id="{{ product.id }}" class="btn-delete px-3 py-1.5 text-xs border border-red-200 text-red-600 rounded-lg hover:bg-red-50">Delete</button>
  </div>
  {% endif %}
</article>
